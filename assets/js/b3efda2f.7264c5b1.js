"use strict";(self.webpackChunk_swan_io_docs=self.webpackChunk_swan_io_docs||[]).push([[71859],{3905:(n,e,o)=>{o.d(e,{Zo:()=>s,kt:()=>b});var t=o(67294);function i(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function r(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.push.apply(o,t)}return o}function a(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){i(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function d(n,e){if(null==n)return{};var o,t,i=function(n,e){if(null==n)return{};var o,t,i={},r=Object.keys(n);for(t=0;t<r.length;t++)o=r[t],e.indexOf(o)>=0||(i[o]=n[o]);return i}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(t=0;t<r.length;t++)o=r[t],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(n,o)&&(i[o]=n[o])}return i}var g=t.createContext({}),l=function(n){var e=t.useContext(g),o=e;return n&&(o="function"==typeof n?n(e):a(a({},e),n)),o},s=function(n){var e=l(n.components);return t.createElement(g.Provider,{value:e},n.children)},p="mdxType",u={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},m=t.forwardRef((function(n,e){var o=n.components,i=n.mdxType,r=n.originalType,g=n.parentName,s=d(n,["components","mdxType","originalType","parentName"]),p=l(o),m=i,b=p["".concat(g,".").concat(m)]||p[m]||u[m]||r;return o?t.createElement(b,a(a({ref:e},s),{},{components:o})):t.createElement(b,a({ref:e},s))}));function b(n,e){var o=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var r=o.length,a=new Array(r);a[0]=m;var d={};for(var g in e)hasOwnProperty.call(e,g)&&(d[g]=e[g]);d.originalType=n,d[p]="string"==typeof n?n:i,a[1]=d;for(var l=2;l<r;l++)a[l]=o[l];return t.createElement.apply(null,a)}return t.createElement.apply(null,o)}m.displayName="MDXCreateElement"},68874:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>g,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var t=o(83117),i=(o(67294),o(3905));const r={title:"Monitor onboarding progress"},a="Monitor onboarding progress",d={unversionedId:"topics/onboarding/overview/guide-monitor-onboarding",id:"topics/onboarding/overview/guide-monitor-onboarding",title:"Monitor onboarding progress",description:"Monitor the progress of your onboardings using the onboardings query.",source:"@site/docs/topics/onboarding/overview/guide-monitor-onboarding.mdx",sourceDirName:"topics/onboarding/overview",slug:"/topics/onboarding/overview/guide-monitor-onboarding",permalink:"/topics/onboarding/overview/guide-monitor-onboarding",draft:!1,editUrl:"https://github.com/swan-io/docs/edit/main/docs/docs/topics/onboarding/overview/guide-monitor-onboarding.mdx",tags:[],version:"current",frontMatter:{title:"Monitor onboarding progress"},sidebar:"docSidebar",previous:{title:"Retrieve an onboarding ID",permalink:"/topics/onboarding/overview/guide-retrieve-onboarding-id"},next:{title:"Finalize an onboarding",permalink:"/topics/onboarding/overview/guide-finalize-onboarding"}},g={},l=[{value:"Guide",id:"guide",level:2},{value:"Query",id:"query",level:2},{value:"Payload",id:"payload",level:2}],s={toc:l},p="wrapper";function u(n){let{components:e,...o}=n;return(0,i.kt)(p,(0,t.Z)({},s,o,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"monitor-onboarding-progress"},"Monitor onboarding progress"),(0,i.kt)("p",null,"Monitor the progress of your onboardings using the ",(0,i.kt)("inlineCode",{parentName:"p"},"onboardings")," query."),(0,i.kt)("p",null,"Queries are highly customizable, so use the ",(0,i.kt)("inlineCode",{parentName:"p"},"onboardings")," query to retrieve any information that will help you follow along with your users.\nYou can also use it ",(0,i.kt)("a",{parentName:"p",href:"/topics/onboarding/overview/guide-retrieve-onboarding-id"},"retrieve onboarding IDs"),"."),(0,i.kt)("p",null,"After getting information about an onboarding, you might want to ",(0,i.kt)("strong",{parentName:"p"},"update that onboarding"),".\nRefer to the guides on updating an ",(0,i.kt)("a",{parentName:"p",href:"/topics/onboarding/individual/guide-update-onboarding"},"individual")," or ",(0,i.kt)("a",{parentName:"p",href:"/topics/onboarding/company/guide-update-onboarding"},"company")," onboarding."),(0,i.kt)("admonition",{title:"Prerequisites",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"To monitor onboarding progress, you must have at least one existing onboarding, either ",(0,i.kt)("a",{parentName:"p",href:"/topics/onboarding/individual/guide-create-onboarding"},"individual")," or ",(0,i.kt)("a",{parentName:"p",href:"/topics/onboarding/company/guide-create-onboarding"},"company"),".\nThe onboarding can have ",(0,i.kt)("a",{parentName:"p",href:"/topics/onboarding/about#onboarding-statuses"},"any status"),".")),(0,i.kt)("h2",{id:"guide"},"Guide"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"In the API Explorer, add the ",(0,i.kt)("inlineCode",{parentName:"li"},"onboardings")," query."),(0,i.kt)("li",{parentName:"ol"},"Add all the query options you'd like to monitor.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"For this exercise, add: ",(0,i.kt)("inlineCode",{parentName:"li"},"createdAt"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"email"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"info")," > ",(0,i.kt)("inlineCode",{parentName:"li"},"type"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onboardingUrl"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"onboardingState"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"statusInfo")," > ",(0,i.kt)("inlineCode",{parentName:"li"},"status"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"totalCount"),"."),(0,i.kt)("li",{parentName:"ul"},"To ",(0,i.kt)("inlineCode",{parentName:"li"},"statusInfo")," > ",(0,i.kt)("inlineCode",{parentName:"li"},"status"),", add a ",(0,i.kt)("strong",{parentName:"li"},"rejection")," as well: ",(0,i.kt)("inlineCode",{parentName:"li"},"OnboardingInvalidStatusInfo")," with ",(0,i.kt)("inlineCode",{parentName:"li"},"errors"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"field"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"status"),"."))),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"\u25b6 Run"),".")),(0,i.kt)("admonition",{title:"Note about onboarding count",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Running the ",(0,i.kt)("inlineCode",{parentName:"p"},"onboardings")," query returns a list of ",(0,i.kt)("strong",{parentName:"p"},"all onboardings")," for your project, including completed onboardings and ongoing onboardings that are valid or invalid.\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"totalCount")," could be high."),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Limit how many onboardings are returned")," by adding the ",(0,i.kt)("inlineCode",{parentName:"p"},"first")," query option, then indicating the number of onboardings you'd like to review.")),(0,i.kt)("h2",{id:"query"},"Query"),(0,i.kt)("p",null,"\ud83d\udd0e ",(0,i.kt)("a",{parentName:"p",href:"https://explorer.swan.io?query=cXVlcnkgTW9uaXRvck9uYm9hcmRpbmcgewogIG9uYm9hcmRpbmdzIHsKICAgIGVkZ2VzIHsKICAgICAgbm9kZSB7CiAgICAgICAgY3JlYXRlZEF0CiAgICAgICAgZW1haWwKICAgICAgICBpbmZvIHsKICAgICAgICAgIHR5cGUKICAgICAgICB9CiAgICAgICAgb25ib2FyZGluZ1VybAogICAgICAgIG9uYm9hcmRpbmdTdGF0ZQogICAgICAgIHN0YXR1c0luZm8gewogICAgICAgICAgc3RhdHVzCiAgICAgICAgICAuLi4gb24gT25ib2FyZGluZ0ludmFsaWRTdGF0dXNJbmZvIHsKICAgICAgICAgICAgX190eXBlbmFtZQogICAgICAgICAgICBlcnJvcnMgewogICAgICAgICAgICAgIGZpZWxkCiAgICAgICAgICAgICAgZXJyb3JzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RhdHVzCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICB0b3RhbENvdW50CiAgfQp9Cg%3D%3D&tab=api"},"Open the query in API Explorer")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-graphql",metastring:"{5-8,10-13,14,16-18,20,25} showLineNumbers","{5-8,10-13,14,16-18,20,25}":!0,showLineNumbers:!0},"query MonitorOnboarding {\n  onboardings {\n    edges {\n      node {\n        createdAt\n        email\n        info {\n          type\n        }\n        onboardingUrl\n        onboardingState\n        statusInfo {\n          status\n          ... on OnboardingInvalidStatusInfo {\n            __typename\n            errors {\n              field\n              errors\n            }\n            status\n          }\n        }\n      }\n    }\n    totalCount\n  }\n}\n")),(0,i.kt)("h2",{id:"payload"},"Payload"),(0,i.kt)("p",null,"Review the sample payload with two ",(0,i.kt)("inlineCode",{parentName:"p"},"Ongoing")," onboardings, one ",(0,i.kt)("inlineCode",{parentName:"p"},"Invalid")," and one ",(0,i.kt)("inlineCode",{parentName:"p"},"Valid"),", as well as one ",(0,i.kt)("inlineCode",{parentName:"p"},"Completed")," onboarding with the status ",(0,i.kt)("inlineCode",{parentName:"p"},"Finalized"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:"{7-8,10,12-16,19-21,30-31,33,35-36,38,44-45,47,49-50,52,57} showLineNumbers","{7-8,10,12-16,19-21,30-31,33,35-36,38,44-45,47,49-50,52,57}":!0,showLineNumbers:!0},'{\n  "data": {\n    "onboardings": {\n      "edges": [\n        {\n          "node": {\n            "createdAt": "2023-06-20T14:10:39.286Z",\n            "email": "alberto.moreno@mimarca.io",\n            "info": {\n              "type": "Company"\n            },\n            "onboardingUrl": "https://api.banking.swan.io/projects/$PROJECT_ID/onboardings/$ONBOARDING_ID?lang=es",\n            "onboardingState": "Ongoing",\n            "statusInfo": {\n              "status": "Invalid",\n              "__typename": "OnboardingInvalidStatusInfo",\n              "errors": [\n                {\n                  "field": "individualUltimateBeneficialOwners[0].birthDate",\n                  "errors": [\n                    "Missing"\n                  ]\n                }\n              ]\n            }\n          }\n        },\n        {\n          "node": {\n            "createdAt": "2023-06-20T14:00:20.207Z",\n            "email": "sofia.ramos@mybrand.io",\n            "info": {\n              "type": "Individual"\n            },\n            "onboardingUrl": "https://api.banking.swan.io/projects/$PROJECT_ID/onboardings/$ONBOARDING_ID?lang=en",\n            "onboardingState": "Ongoing",\n            "statusInfo": {\n              "status": "Valid"\n            }\n          }\n        },\n        {\n          "node": {\n            "createdAt": "2023-08-01T09:01:17.050Z",\n            "email": "malika.ngomao@mybrand.io",\n            "info": {\n              "type": "Individual"\n            },\n            "onboardingUrl": "https://api.banking.swan.io/projects/$PROJECT_ID/onboardings/$ONBOARDING_ID?lang=fr",\n            "onboardingState": "Completed",\n            "statusInfo": {\n              "status": "Finalized"\n            }\n          }\n        },\n      ],\n      "totalCount": 3\n    }\n  }\n}\n')))}u.isMDXComponent=!0}}]);