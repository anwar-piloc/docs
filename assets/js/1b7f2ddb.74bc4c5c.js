"use strict";(self.webpackChunk_swan_io_docs=self.webpackChunk_swan_io_docs||[]).push([[97982],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=d(n),s=o,g=m["".concat(p,".").concat(s)]||m[s]||c[s]||r;return n?a.createElement(g,l(l({ref:t},u),{},{components:n})):a.createElement(g,l({ref:t},u))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=s;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[m]="string"==typeof e?e:o,l[1]=i;for(var d=2;d<r;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},27572:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var a=n(83117),o=(n(67294),n(3905));const r={title:"Upload a document"},l="Upload a document",i={unversionedId:"topics/onboarding/documents/guide-upload-document",id:"topics/onboarding/documents/guide-upload-document",title:"Upload a document",description:"You can upload supporting documents using the API or on the Dashboard.",source:"@site/docs/topics/onboarding/documents/guide-upload-document.mdx",sourceDirName:"topics/onboarding/documents",slug:"/topics/onboarding/documents/guide-upload-document",permalink:"/topics/onboarding/documents/guide-upload-document",draft:!1,editUrl:"https://github.com/swan-io/docs/edit/main/docs/docs/topics/onboarding/documents/guide-upload-document.mdx",tags:[],version:"current",frontMatter:{title:"Upload a document"},sidebar:"docSidebar",previous:{title:"Get a list of required documents",permalink:"/topics/onboarding/documents/guide-list-documents"},next:{title:"Retrieve information about a collection or document",permalink:"/topics/onboarding/documents/guide-retrieve-info"}},p={},d=[{value:"API guide",id:"api-guide",level:2},{value:"Step 1: Generate upload URL",id:"step-1-generate-upload-url",level:3},{value:"Step 2: Recover generated URL from payload",id:"step-2-recover-generated-url-from-payload",level:3},{value:"Step 3: Send POST request",id:"step-3-send-post-request",level:3},{value:"Dashboard",id:"dashboard",level:2}],u={toc:d},m="wrapper";function c(e){let{components:t,...r}=e;return(0,o.kt)(m,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"upload-a-document"},"Upload a document"),(0,o.kt)("p",null,"You can upload supporting documents ",(0,o.kt)("strong",{parentName:"p"},"using the API")," or on the ",(0,o.kt)("strong",{parentName:"p"},"Dashboard"),"."),(0,o.kt)("admonition",{title:"Prerequisites",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Before you can upload a document, you must have the following:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/topics/onboarding/documents/about#collection-statuses"},"Collection status")," must be ",(0,o.kt)("inlineCode",{parentName:"li"},"Waiting for document"),"."))),(0,o.kt)("h2",{id:"api-guide"},"API guide"),(0,o.kt)("p",null,"Use the API to upload required documents in three steps."),(0,o.kt)("h3",{id:"step-1-generate-upload-url"},"Step 1: Generate upload URL"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Add the ",(0,o.kt)("inlineCode",{parentName:"li"},"generateSupportingDocumentUploadUrl")," mutation."),(0,o.kt)("li",{parentName:"ol"},"Enter all required information: ",(0,o.kt)("inlineCode",{parentName:"li"},"supportingDocumentCollectionId"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"filename"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"supportingDocumentPurpose"),", and ",(0,o.kt)("inlineCode",{parentName:"li"},"supportingDocumentType"),"."),(0,o.kt)("li",{parentName:"ol"},"Add the ",(0,o.kt)("inlineCode",{parentName:"li"},"GenerateSupportingDocumentUploadUrlSuccessPayload")," with required ",(0,o.kt)("inlineCode",{parentName:"li"},"key/value")," pairs and ",(0,o.kt)("inlineCode",{parentName:"li"},"url"),"."),(0,o.kt)("li",{parentName:"ol"},"Add other optional messages to the payload, either for validation or in case of rejection."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"\u25b6 Run")," your mutation.")),(0,o.kt)("p",null,"\ud83d\udd0e ",(0,o.kt)("a",{parentName:"p",href:"https://explorer.swan.io?query=bXV0YXRpb24gVXBsb2FkRG9jdW1lbnRzIHsKICBnZW5lcmF0ZVN1cHBvcnRpbmdEb2N1bWVudFVwbG9hZFVybCgKICAgIGlucHV0OiB7CiAgICAgIHN1cHBvcnRpbmdEb2N1bWVudENvbGxlY3Rpb25JZDogIiRDT0xMRUNUSU9OX0lEIgogICAgICBmaWxlbmFtZTogIiRET0NVTUVOVF9GSUxFX05BTUUiCiAgICAgIHN1cHBvcnRpbmdEb2N1bWVudFB1cnBvc2U6IENvbXBhbnlSZWdpc3RyYXRpb24KICAgICAgc3VwcG9ydGluZ0RvY3VtZW50VHlwZTogUmVnaXN0ZXJFeHRyYWN0CiAgICB9CiAgKSB7CiAgICAuLi4gb24gR2VuZXJhdGVTdXBwb3J0aW5nRG9jdW1lbnRVcGxvYWRVcmxTdWNjZXNzUGF5bG9hZCB7CiAgICAgIF9fdHlwZW5hbWUKICAgICAgdXBsb2FkIHsKICAgICAgICBmaWVsZHMgewogICAgICAgICAga2V5CiAgICAgICAgICB2YWx1ZQogICAgICAgIH0KICAgICAgICB1cmwKICAgICAgfQogICAgfQogIH0KfQ%3D%3D&tab=api"},"Open the mutation in API Explorer")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-graphql",metastring:"{4-7,13-15,17} showLineNumbers","{4-7,13-15,17}":!0,showLineNumbers:!0},'mutation GenerateUploadUrl {\n  generateSupportingDocumentUploadUrl(\n    input: {\n      supportingDocumentCollectionId: "$COLLECTION_ID"\n      filename: "$DOCUMENT_FILE"\n      supportingDocumentPurpose: CompanyRegistration\n      supportingDocumentType: RegisterExtract\n    }\n  ) {\n    ... on GenerateSupportingDocumentUploadUrlSuccessPayload {\n      __typename\n      upload {\n        fields {\n          key\n          value\n        }\n        url\n      }\n    }\n  }\n}\n')),(0,o.kt)("h3",{id:"step-2-recover-generated-url-from-payload"},"Step 2: Recover generated URL from payload"),(0,o.kt)("p",null,"Recover the generated ",(0,o.kt)("inlineCode",{parentName:"p"},"uploadUrl")," in the payload, as well as several pairs of keys and values."),(0,o.kt)("admonition",{title:"Upload URL expires",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"The ",(0,o.kt)("inlineCode",{parentName:"p"},"uploadUrl")," is ",(0,o.kt)("strong",{parentName:"p"},"only valid for seven days"),", after which you'd need to generate a new URL.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:"{8-9,12-13,20-21,24-25,28-29,32-33,36-37,40} showLineNumbers","{8-9,12-13,20-21,24-25,28-29,32-33,36-37,40}":!0,showLineNumbers:!0},'{\n  "data": {\n    "generateSupportingDocumentUploadUrl": {\n      "__typename": "GenerateSupportingDocumentUploadUrlSuccessPayload",\n      "upload": {\n        "fields": [\n          {\n            "key": "Key",\n            "value": "INPUT/865ed98c-64aa-4288-a51a-e2f199287ab8"\n          },\n          {\n            "key": "X-Amz-Algorithm",\n            "value": "AWS4-HMAC-SHA256"\n          },\n          {\n            "key": "X-Amz-Credential",\n            "value": "ASIAWHEXXLUXL7AGJ4VK/20220705/eu-west-1/s3/aws4_request"\n          },\n          {\n            "key": "X-Amz-Date",\n            "value": "20220705T153359Z"\n          },\n          {\n            "key": "X-Amz-Security-Token",\n            "value": "FwoGZXIvYXdzEJH//////////wEaDCfPIY23o3yUfkdcBiKnBCMRiFV1ec3bQNAeD4yvIkMeVBuI3+XgizJ72OAseCffRFdhIIM9Bx80x6Mrb04IrtggYOm8GZZngpBwVJJwib06sXXYdAbkW59j2NKj7kE1FsiBs5MGq3lGpOgKHTWocr1et3vULY4Et2yLHkE1D+pwW4CExYqW6R2azviUhPJ2MACXLR2FvngTp5WdzkRKHc+AhDnue42JA0NUgJv+sQTJ5giYYMntrHdBBV8EWJfupgDEPNvqlyussVH5TT3uB2eatU1SwWgpaVTxyL7p0v4rWR6zDRRoMMmKi59R8TjHgfQcjEBIu0xnIjULLqmSYHRVhbQcFBnLtAzZdip0S7kpPIm2ZD7NajmTBffP+28GRmy2NgDX5wJ1yBqnXcJ7YGW2NKv2MN83WuHoEEDrYPYZTnPSIRL4gw/i4itcNBi1f54LxO3tsvlutiHk24UBh6HyJ2pzFpXjiKTpfz9LW92x0OqYlpX0XqxOsJMpC9e6aBlaMQymxlD2FsFoGm+zJ9iht7KjFOQZsYzDzzdDzMWK9NPFd5v9FH04ldER7Q9U90HOh7TsXz1ckAmTGF4QqrEFRjzD+080m90YU2P/zyJd8XIgIaN+HSsClbQfOv39uwQJ8tyud2TUdZg0KVCEKfPr7INZyWdoJayK2sNWdfoAglkEcG90pMx0caPH4Vot9oEpX93ej04Ep6lX2d6Spioy/8u9GqujUufWa94uCAgEXCreTe7sKOezkZYGMivr4PRAjuMb7fnDjGzSAXMqhy8xa7z9HSOmiViDgtv8WzKw1PsxoHMtNPET"\n          },\n          {\n            "key": "Policy",\n            "value": "eyJleHBpcmF0aW9uIjoiMjAyMi0wNy0xMlQxNTozMzo1OVoiLCJjb25kaXRpb25zIjpbWyJjb250ZW50LWxlbmd0aC1yYW5nZSIsMCwyMDk3MTUyMF0sWyJlcSIsIiR4LWFtei1tZXRhLXgtc3dhbi1zdXBwb3J0aW5nLWRvY3VtZW50LWlkIiwiODY1ZWQ5OGMtNjRhYS00Mjg4LWE1MWEtZTJmMTk5Mjg3YWI4Il0seyJrZXkiOiJJTlBVVC84NjVlZDk4Yy02NGFhLTQyODgtYTUxYS1lMmYxOTkyODdhYjgifSx7ImJ1Y2tldCI6InN3YW4tc3VwcG9ydGluZy1kb2N1bWVudC1tYXN0ZXItc2FuZGJveCJ9LHsiWC1BbXotQWxnb3JpdGhtIjoiQVdTNC1ITUFDLVNIQTI1NiJ9LHsiWC1BbXotQ3JlZGVudGlhbCI6IkFTSUFXSEVYWExVWEw3QUdKNFZLLzIwMjIwNzA1L2V1LXdlc3QtMS9zMy9hd3M0X3JlcXVlc3QifSx7IlgtQW16LURhdGUiOiIyMDIyMDcwNVQxNTMzNTlaIn0seyJYLUFtei1TZWN1cml0eS1Ub2tlbiI6IkZ3b0daWEl2WVhkekVKSC8vLy8vLy8vLy93RWFEQ2ZQSVkyM28zeVVma2RjQmlLbkJDTVJpRlYxZWMzYlFOQWVENHl2SWtNZVZCdUkzK1hnaXpKNzJPQXNlQ2ZmUkZkaElJTTlCeDgweDZNcmIwNElydGdnWU9tOEdaWm5ncEJ3VkpKd2liMDZzWFhZZEFia1c1OWoyTktqN2tFMUZzaUJzNU1HcTNsR3BPZ0tIVFdvY3IxZXQzdlVMWTRFdDJ5TEhrRTFEK3B3VzRDRXhZcVc2UjJhenZpVWhQSjJNQUNYTFIyRnZuZ1RwNVdkemtSS0hjK0FoRG51ZTQySkEwTlVnSnYrc1FUSjVnaVlZTW50ckhkQkJWOEVXSmZ1cGdERVBOdnFseXVzc1ZINVRUM3VCMmVhdFUxU3dXZ3BhVlR4eUw3cDB2NHJXUjZ6RFJSb01NbUtpNTlSOFRqSGdmUWNqRUJJdTB4bklqVUxMcW1TWUhSVmhiUWNGQm5MdEF6WmRpcDBTN2twUEltMlpEN05ham1UQmZmUCsyOEdSbXkyTmdEWDV3SjF5QnFuWGNKN1lHVzJOS3YyTU44M1d1SG9FRURyWVBZWlRuUFNJUkw0Z3cvaTRpdGNOQmkxZjU0THhPM3Rzdmx1dGlIazI0VUJoNkh5SjJwekZwWGppS1RwZno5TFc5MngwT3FZbHBYMFhxeE9zSk1wQzllNmFCbGFNUXlteGxEMkZzRm9HbSt6SjlpaHQ3S2pGT1Fac1l6RHp6ZER6TVdLOU5QRmQ1djlGSDA0bGRFUjdROVU5MEhPaDdUc1h6MWNrQW1UR0Y0UXFyRUZSanpEKzA4MG05MFlVMlAvenlKZDhYSWdJYU4rSFNzQ2xiUWZPdjM5dXdRSjh0eXVkMlRVZFpnMEtWQ0VLZlByN0lOWnlXZG9KYXlLMnNOV2Rmb0FnbGtFY0c5MHBNeDBjYVBINFZvdDlvRXBYOTNlajA0RXA2bFgyZDZTcGlveS84dTlHcXVqVXVmV2E5NHVDQWdFWENyZVRlN3NLT2V6a1pZR01pdnI0UFJBanVNYjdmbkRqR3pTQVhNcWh5OHhhN3o5SFNPbWlWaURndHY4V3pLdzFQc3hvSE10TlBFVCJ9XX0="\n          },\n          {\n            "key": "X-Amz-Signature",\n            "value": "994a3ba731d27a4606b90f4adc60b85af80ec8d2f048ffc37ebb97833c06657e"\n          },\n          {\n            "key": "X-Amz-Meta-X-Swan-Supporting-Document-Id",\n            "value": "865ed98c-64aa-4288-a51a-e2f199287ab8"\n          }\n        ],\n        "url": "https://s3.eu-west-1.amazonaws.com/swan-supporting-document-master-sandbox"\n      }\n    }\n  }\n}}\n')),(0,o.kt)("h3",{id:"step-3-send-post-request"},"Step 3: Send POST request"),(0,o.kt)("p",null,"Finally, send an HTTP POST request to the ",(0,o.kt)("inlineCode",{parentName:"p"},"uploadUrl")," without a ",(0,o.kt)("inlineCode",{parentName:"p"},"Content-Type")," header.\nYou can use this cURL command to try the upload URL.\nSupported formats are ",(0,o.kt)("inlineCode",{parentName:"p"},".pdf"),", ",(0,o.kt)("inlineCode",{parentName:"p"},".png"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},".jpg"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-curl",metastring:"showLineNumbers",showLineNumbers:!0},"curl --location --request POST '$UPLOAD_URL' \\\n--form 'Key=\"INPUT/$ID\"' \\\n--form 'X-Amz-Algorithm=\"AWS4-HMAC-SHA256\"' \\\n--form 'X-Amz-Credential=\"$CREDENTIAL\"' \\\n--form 'X-Amz-Date=\"20220705T135458Z\"' \\\n--form 'X-Amz-Security-Token=\"$TOKEN\"' \\\n--form 'Policy=\"$POLICY\"' \\\n--form 'X-Amz-Signature=\"$SIGNATURE\"' \\\n--form 'X-Amz-Meta-X-Swan-Supporting-Document-Id=\"$DOCUMENT_ID\"' \\\n--form 'file=@\"$FILE_PATH\"'\n")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Replace all ",(0,o.kt)("inlineCode",{parentName:"em"},"$VARIABLES")," with your values from step 2.")),(0,o.kt)("admonition",{title:"Upload successful",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"When you upload a document with the HTTP POST cURL command, Amazon sends a ",(0,o.kt)("em",{parentName:"p"},"204: No content error"),", ",(0,o.kt)("strong",{parentName:"p"},"but the document was successfully uploaded"),".")),(0,o.kt)("h2",{id:"dashboard"},"Dashboard"),(0,o.kt)("p",null,"Use the Dashboard to upload required documents."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"On your Dashboard, go to ",(0,o.kt)("strong",{parentName:"li"},"Data")," > ",(0,o.kt)("strong",{parentName:"li"},"Onboardings"),"."),(0,o.kt)("li",{parentName:"ol"},"Open the onboarding for which you'd like to upload documents.\nThe onboarding status must be ",(0,o.kt)("inlineCode",{parentName:"li"},"Ongoing (Valid)"),"."),(0,o.kt)("li",{parentName:"ol"},"Open the ",(0,o.kt)("strong",{parentName:"li"},"Supporting documents")," tab."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"+ New")," to add a new supporting document."),(0,o.kt)("li",{parentName:"ol"},"Attach your document file.\nSupported formats are ",(0,o.kt)("inlineCode",{parentName:"li"},".pdf"),", ",(0,o.kt)("inlineCode",{parentName:"li"},".png"),", and ",(0,o.kt)("inlineCode",{parentName:"li"},".jpg"),"."),(0,o.kt)("li",{parentName:"ol"},"The name field fills automatically with the name of your file. Feel free to change it."),(0,o.kt)("li",{parentName:"ol"},"Choose your document type and purpose from the dropdown options."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Upload")," to upload your supporting document.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Upload a supporting document from the Dashboard",src:n(85499).Z,width:"1447",height:"794"})))}c.isMDXComponent=!0},85499:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/upload-document-c5c2238c752f2e31416e50418c8e6ca7.png"}}]);